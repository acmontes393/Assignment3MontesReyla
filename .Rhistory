library(dplyr)
library(XML)
URL <-'http://www.bbc.com/sport/winter-olympics/2014/medals/countries'
# get and parse all table on the webpage
tables <- URL %>% GET() %>%
content(as = 'parsed') %>%
readHTMLTable()
names(tables)
Medals <- tables[[1]]
head(Medals)[, 1:6]
names(Medals)[1] <- "Ranking"
names(Medals)[2] <- "Country"
names(Medals)[3] <- "Gold"
names(Medals)[4] <- "Silver"
names(Medals)[5] <- "Bronze"
names(Medals)[6] <- "Total"
# Also
# names (medals) <-c('country', 'gold')
Medals <-select(Medals, -V7)
Medals$country <-as.character(Medals$Country)
Medals$Country <-as.character(Medals$Country)
View(Medals)
View(Medals)
URL <-'http://www.bbc.com/sport/winter-olympics/2014/medals/countries'
# get and parse all table on the webpage
tables <- URL %>% GET() %>%
content(as = 'parsed') %>%
readHTMLTable()
names(tables)
Medals <- tables[[1]]
head(Medals)[, 1:6]
#give names to columns
names(Medals)[1] <- "Ranking"
names(Medals)[2] <- "Country"
names(Medals)[3] <- "Gold"
names(Medals)[4] <- "Silver"
names(Medals)[5] <- "Bronze"
names(Medals)[6] <- "Total"
# Also
# names (medals) <-c('country', 'gold')
#Clear
Medals <-select(Medals, -V7)
#Convert variables to strings and numbers
Medals$Country <-as.character(Medals$Country)
for (i in 2:5) Medals [,i]<-as.integer(Medals[,i])
#sort
Medals <-arrange (medals, desc(total))
Medals <-arrange (Medals, desc(total))
Medals <-arrange (Medals, desc(Total))
View(Medals)
View(Medals)
for (i in 2:5) Medals[,i]<-as.integer(Medals[,i])
View(Medals)
View(Medals)
URL <-'http://www.bbc.com/sport/winter-olympics/2014/medals/countries'
# get and parse all table on the webpage
tables <- URL %>% GET() %>%
content(as = 'parsed') %>%
readHTMLTable()
names(tables)
Medals <- tables[[1]]
head(Medals)[, 1:6]
#give names to columns
names(Medals)[1] <- "Ranking"
names(Medals)[2] <- "Country"
names(Medals)[3] <- "Gold"
names(Medals)[4] <- "Silver"
names(Medals)[5] <- "Bronze"
names(Medals)[6] <- "Total"
# Also
# names (medals) <-c('country', 'gold')
#Clear
Medals <-select(Medals, -V7)
#Convert variables to strings and numbers
Medals$Country <-as.character(Medals$Country)
for (i in 3:5) Medals[,i]<-as.integer(Medals[,i])
#sort
Medals <-arrange (Medals, desc(Total))
View(Medals)
View(Medals)
for (i in 3:4) Medals[,i]<-as.integer(Medals[,i])
Medals <-arrange (Medals, desc(Total))
View(Medals)
View(Medals)
for (i in 3:6) Medals[,i]<-as.integer(Medals[,i])
Medals <-arrange (Medals, desc(Total))
View(Medals)
View(Medals)
URL <-'http://www.bbc.com/sport/winter-olympics/2014/medals/countries'
# get and parse all table on the webpage
tables <- URL %>% GET() %>%
content(as = 'parsed') %>%
readHTMLTable()
names(tables)
Medals <- tables[[1]]
head(Medals)[, 1:6]
#give names to columns
names(Medals)[1] <- "Ranking"
names(Medals)[2] <- "Country"
names(Medals)[3] <- "Gold"
names(Medals)[4] <- "Silver"
names(Medals)[5] <- "Bronze"
names(Medals)[6] <- "Total"
# Also
# names (medals) <-c('country', 'gold')
#Clear
Medals <-select(Medals, -V7)
#Convert variables to strings and numbers
Medals$Country <-as.character(Medals$Country)
for (i in 3:6) Medals[,i]<-as.integer(Medals[,i])
#sort
Medals <-arrange (Medals, desc(Total))
View(Medals)
View(Medals)
URL <-'http://www.bbc.com/sport/winter-olympics/2014/medals/countries'
# get and parse all table on the webpage
tables <- URL %>% GET() %>%
content(as = 'parsed') %>%
readHTMLTable()
names(tables)
Medals <- tables[[1]]
head(Medals)[, 1:6]
#give names to columns
names(Medals)[1] <- "Ranking"
names(Medals)[2] <- "Country"
names(Medals)[3] <- "Gold"
names(Medals)[4] <- "Silver"
names(Medals)[5] <- "Bronze"
names(Medals)[6] <- "Total"
# Also
# names (medals) <-c('country', 'gold')
#Clear
Medals <-select(Medals, -V7)
#Convert variables to strings and numbers
Medals$Country <-as.character(Medals$Country)
View(Medals)
View(Medals)
data(prestige)
data(Prestige)
library(car)
install.packages(car)
data(Prestige)
library(car)
install.packages(car)
setwd('/Users/AnaCe/Dropbox/Hertie/CollaborativeDataAnalysis/R/Assignment3MontesReyla')
full <- import("UN_MigrantStockByOriginAndDestination_2013T10.xls", format = "xls", sheet = 2)
Migration90 = read.table( "UN_MigrantStockByOriginAndDestination_2013T10.xls")
View(Migration90)
library(rio)
full <- import("UN_MigrantStockByOriginAndDestination_2013T10.xls", format = "xls", sheet = 2)
View(Migration90)
View(full)
View(full)
View(full)
full2 <- read.xlsx(temp, sheetIndex = 2)
?WDI
library(WDI)
?WDI
?`rio-package
?rio-package
?`rio-package`
?rio
?rio-package
?import
Migration90 <- import("UN_MigrantStockByOriginAndDestination_2013T10.xls", format = "xls", sheet = 2)
View(Migration90)
Migration <- Migration90[15:16]
View(Migration)
View(Migration)
Migration <- Migration90[c(15,16)]
View(Migration)
View(Migration)
emigration1990<- Migration90[c(15,16)]
View(emigration1990)
View(emigration1990)
View(Migration90)
View(Migration90)
emigration1990<- Migration90[c(15,16),]
View(emigration1990)
View(emigration1990)
View(emigration1990)
l <-reshape(emigration1990)
l <-reshape(emigration1990,
direction = "long")
?reshape
l <-reshape(emigration1990,
varying = NULL
direction = "long")
l <-reshape(emigration1990,
varying = NULL,
direction = "long")
l <-gather(emigration1990, country, emigration, column 7:column 241)
l <-gather(emigration1990, country, emigration, column7:column241)
library(gather)
install.packages(gather)
library(tidyr)
install.packages(tidyr)
install.packages('tidyr')
library(tidyr)
l <-gather(emigration1990, country, emigration, column7:column241)
l <-gather(emigration1990, country, emigration, column 7:column 241)
View(emigration1990)
l <-gather(emigration1990, country, emigration, World:Zimbabwe)
?gather
l <-gather(emigration1990, country, emigration, c(7:241))
View(l)
lo <-gather(Migration90, country, emigration, c(15:16))
View(emigration1990)
View(emigration1990)
View(lo)
View(lo)
View(emigration1990)
View(emigration1990)
data(swiss)
hist(swiss$Examination)
View(swiss)
View(swiss)
l2 <-gather(emigration1990, country, emigration, column7:column241)
l2 <-gather(emigration1990, country, emigration, 7:)
l2 <-gather(emigration1990, country, emigration, 3:241)
View(l2)
View(l2)
l3 <-gather(emigration1990, country, emigration, c(3:241))
View(l3)
View(l3)
l4 <-gather(emigration1990, country, emigration, c(7:241))
View(l4)
View(l4)
l5 <- t(emigration1990)
View(l5)
View(l5)
Migration90 <- import("UN_MigrantStockByOriginAndDestination_2013T10.xls", format = "xls", sheet = 2)
emigration1990<- Migration90[c(15,16),]
emigration1990 <- t(emigration1990)
emigration1990<-as.data.frame(emigration1990)
View(emigration1990)
View(emigration1990)
emigration1990<- emigration1990[c(10,241),]
View(emigration1990)
View(emigration1990)
emigration1990<- Migration90[c(15,16),]
emigration1990 <- t(emigration1990)
emigration1990<-as.data.frame(emigration1990)
emigration1990<- emigration1990[c(10:241),]
View(emigration1990)
View(emigration1990)
View(emigration1990)
View(emigration1990)
colnames(emigration1990) <- c("Country","Emigration90")
View(emigration1990)
View(emigration1990)
?for
?for
? in
for ( i in 2, 5, 8, 11){
Migration[i] <- import("UN_MigrantStockByOriginAndDestination_2013T10.xls", format = "xls", sheet = i)
emigration[i]<- Migration90[c(15,16),]
emigration[i] <- t(emigration[i])
emigration[i]<-as.data.frame(emigration[i])
emigration[i]<- emigration[i][c(10:241),]
colnames(emigration[i]) <- c("Country","Emigration90")
}
for ( i in 2){
Migration[i] <- import("UN_MigrantStockByOriginAndDestination_2013T10.xls", format = "xls", sheet = i)
emigration[i]<- Migration90[c(15,16),]
emigration[i] <- t(emigration[i])
emigration[i]<-as.data.frame(emigration[i])
emigration[i]<- emigration[i][c(10:241),]
colnames(emigration[i]) <- c("Country","Emigration90")
}
for ( i in 2){
Migration[i] <- import("UN_MigrantStockByOriginAndDestination_2013T10.xls", format = "xls", sheet = [i])
emigration[i]<- Migration90[c(15,16),]
emigration[i] <- t(emigration[i])
emigration[i]<-as.data.frame(emigration[i])
emigration[i]<- emigration[i][c(10:241),]
colnames(emigration[i]) <- c("Country","Emigration90")
}
View(emigration1990)
View(emigration1990)
for (i in 1:2){
Migration[i] <- import("UN_MigrantStockByOriginAndDestination_2013T10.xls", format = "xls", sheet = [i])
emigration[i]<- Migration90[c(15,16),]
emigration[i] <- t(emigration[i])
emigration[i]<-as.data.frame(emigration[i])
emigration[i]<- emigration[i][c(10:241),]
colnames(emigration[i]) <- c("Country","Emigration90")
}
for (i in 1:2){
Migration[i] <- import("UN_MigrantStockByOriginAndDestination_2013T10.xls", format = "xls", sheet = [i])
emigration[i]<- Migration[i][c(15,16),]
emigration[i] <- t(emigration[i])
emigration[i]<-as.data.frame(emigration[i])
emigration[i]<- emigration[i][c(10:241),]
colnames(emigration[i]) <- c("Country","Emigration")
}
for (i in 1:2)
{
Migration[i] <- import("UN_MigrantStockByOriginAndDestination_2013T10.xls", format = "xls", sheet = [i])
emigration[i]<- Migration[i][c(15,16),]
emigration[i] <- t(emigration[i])
emigration[i]<-as.data.frame(emigration[i])
emigration[i]<- emigration[i][c(10:241),]
colnames(emigration[i]) <- c("Country","Emigration")
}
_____________________________________________________________________________________________________
for (i in 1:2)
{
Migration[i] <- import("UN_MigrantStockByOriginAndDestination_2013T10.xls", format = "xls", sheet = [i])
emigration[i]<- Migration[i][c(15,16),]
emigration[i] <- t(emigration[i])
emigration[i]<-as.data.frame(emigration[i])
emigration[i]<- emigration[i][c(10:241),]
colnames(emigration[i]) <- c("Country","Emigration")
}
for (i in 2)
{
Migration[i] <- import("UN_MigrantStockByOriginAndDestination_2013T10.xls", format = "xls", sheet = [i])
emigration[i]<- Migration[i][c(15,16),]
emigration[i] <- t(emigration[i])
emigration[i]<-as.data.frame(emigration[i])
emigration[i]<- emigration[i][c(10:241),]
colnames(emigration[i]) <- c("Country","Emigration")
}
tables <-[2, 5, 8, 11]
for (i in tables)
{
Migration[i] <- import("UN_MigrantStockByOriginAndDestination_2013T10.xls", format = "xls", sheet = [i])
emigration[i]<- Migration[i][c(15,16),]
emigration[i] <- t(emigration[i])
emigration[i]<-as.data.frame(emigration[i])
emigration[i]<- emigration[i][c(10:241),]
colnames(emigration[i]) <- c("Country","Emigration")
}
tables <-[2, 5, 8, 11]
Migration[i] <- import("UN_MigrantStockByOriginAndDestination_2013T10.xls", format = "xls", sheet = [i])
tables <-[2, 5, 8, 11]
tables <-c[2, 5, 8, 11]
tables <-[2, 5, 8, 11]
tables <-[2, 5, 8, 11]
tables <-[2, 5, 8, 11]
tables <- [2, 5, 8, 11]
tables <-c(2, 5, 8, 11)
for (i in tables)
{
Migration[i] <- import("UN_MigrantStockByOriginAndDestination_2013T10.xls", format = "xls", sheet =i)
}
for (i in tables)
{
Migration_[i] <- import("UN_MigrantStockByOriginAndDestination_2013T10.xls", format = "xls", sheet =i)
}
for (i in tables)
{
Migration<- import("UN_MigrantStockByOriginAndDestination_2013T10.xls", format = "xls", sheet =i)
}
View(Migration)
View(Migration)
for (i in tables)
{
Migration_i<- import("UN_MigrantStockByOriginAndDestination_2013T10.xls", format = "xls", sheet =i)
}
View(Migration_i)
View(emigration1990)
for (i in tables)
{
Migration[i]<- import("UN_MigrantStockByOriginAndDestination_2013T10.xls", format = "xls", sheet =i)
}
tables <-c(2, 5, 8, 11)
for (i in tables)
{
Migration[i]<- import("UN_MigrantStockByOriginAndDestination_2013T10.xls", format = "xls", sheet =i)
}
tables <-c(2, 5, 8, 11)
for (i in tables)
{
Migration[i]<- import("UN_MigrantStockByOriginAndDestination_2013T10.xls", format = "xls", sheet =i)
}
tables <-c(2, 5, 8, 11)
for (i in tables)
{
Migration<- import("UN_MigrantStockByOriginAndDestination_2013T10.xls", format = "xls", sheet =i)
}
View(Migration)
{
Migration(i)<- import("UN_MigrantStockByOriginAndDestination_2013T10.xls", format = "xls", sheet =i)
}
for (i in tables)
{
Migrationi<- import("UN_MigrantStockByOriginAndDestination_2013T10.xls", format = "xls", sheet =i)
}
Migration2 <- import("UN_MigrantStockByOriginAndDestination_2013T10.xls", format = "xls", sheet = 2)
emigration2<- Migration2[c(15,16),]
emigration2 <- t(emigration2)
emigration2<-as.data.frame(emigration2)
emigration2<- emigration2[c(10:241),]
colnames(emigration2) <- c("Country","Emigration90")
Migration5 <- import("UN_MigrantStockByOriginAndDestination_2013T10.xls", format = "xls", sheet = 5)
emigration5<- Migration5[c(15,16),]
emigration5 <- t(emigration5)
emigration5<-as.data.frame(emigration5)
emigration5<- emigration5[c(10:241),]
colnames(emigration5) <- c("Country","Emigration00")
Migration8 <- import("UN_MigrantStockByOriginAndDestination_2013T10.xls", format = "xls", sheet = 8)
emigration8<- Migration8[c(15,16),]
emigration8 <- t(emigration8)
emigration8<-as.data.frame(emigration8)
emigration8<- emigration8[c(10:241),]
colnames(emigration8) <- c("Country","Emigration10")
Migration11 <- import("UN_MigrantStockByOriginAndDestination_2013T10.xls", format = "xls", sheet = 11)
emigration11<- Migration11[c(15,16),]
emigration11<- t(emigration11)
emigration11<-as.data.frame(emigration11)
emigration11<- emigration11[c(10:241),]
colnames(emigration11) <- c("Country","Emigration13")
View(emigration5)
View(emigration5)
for (i in tables)
{
Migration<- import("UN_MigrantStockByOriginAndDestination_2013T10.xls", format = "xls", sheet =i)
emigration[i]<- Migration[c(15,16),]
emigration[i] <- t(emigration[i])
emigration[i]  <-as.data.frame(emigration[i])
emigration[i]<- emigration[i][c(10:241),]
colnames(emigration[i]) <- c("Country","Emigration")
}
#loop
tables <-c(2, 5, 8, 11)
for (i in tables)
{
Migration<- import("UN_MigrantStockByOriginAndDestination_2013T10.xls", format = "xls", sheet =i)
emigration[i]<- Migration[c(15,16),]
emigration[i] <- t(emigration[i])
emigration[i]  <-as.data.frame(emigration[i])
emigration[i]<- emigration[i][c(10:241),]
colnames(emigration[i]) <- c("Country","Emigration")
}
View(emigration11)
combined <- cbind(emigration11, emigration8, emigration5, emigration2)
View(combined)
View(combined)
combined <- cbind(emigration11(), emigration8(,2), emigration5(,2), emigration2(,2))
combined <- cbind(emigration11, emigration8(,2), emigration5(,2), emigration2(,2))
View(combined)
View(combined)
View(combined)
View(combined)
emigration <- cbind(emigration11, emigration8, emigration5, emigration2)
emigration <-emigration[c(1,2, 4, 6,  8),]
View(emigration)
View(emigration)
emigration <- cbind(emigration11, emigration8, emigration5, emigration2)
emigration <-emigration[,c(1,2, 4, 6,  8)]
View(emigration)
View(emigration)
View(emigration)
tables <-c(2, 5, 8, 11)
for (i in tables)
{
Migration<- import("UN_MigrantStockByOriginAndDestination_2013T10.xls", format = "xls", sheet =i)
emigration<- Migration[c(15,16),]
emigration <- t(emigration[i])
emigration  <-as.data.frame(emigration[i])
emigration[i]<- emigration[i][c(10:241),]
colnames(emigration) <- c("Country","Emigration")
assign(emigration[i], emigration)
}
tables <-c(2, 5, 8, 11)
for (i in tables)
{
Migration<- import("UN_MigrantStockByOriginAndDestination_2013T10.xls", format = "xls", sheet =i)
emigration<- Migration[c(15,16),]
emigration <- t(emigration)
emigration  <-as.data.frame(emigration)
emigration[i]<- emigration[c(10:241),]
colnames(emigration) <- c("Country","Emigration")
assign(emigration[i], emigration)
}
{
Migration<- import("UN_MigrantStockByOriginAndDestination_2013T10.xls", format = "xls", sheet =i)
emigration<- Migration[c(15,16),]
emigration<- t(emigration)
emigration<-as.data.frame(emigration)
emigration<- emigration[c(10:241),]
colnames(emigration) <- c("Country","Emigration")
assign(emigration[i], emigration)
}
for (i in tables)
{
Migration<- import("UN_MigrantStockByOriginAndDestination_2013T10.xls", format = "xls", sheet =i)
emigration<- Migration[c(15,16),]
emigration<- t(emigration)
emigration<-as.data.frame(emigration)
emigration<- emigration[c(10:241),]
colnames(emigration) <- c("Country","Emigration")
assign(emigration[i], emigration)
}
for (i in tables)
{
Migration<- import("UN_MigrantStockByOriginAndDestination_2013T10.xls", format = "xls", sheet =i)
emigration<- Migration[c(15,16),]
emigration<- t(emigration)
emigration<-as.data.frame(emigration)
emigration<- emigration[c(10:241),]
colnames(emigration) <- c("Country","Emigration")
assign(paste0("emigration", i), emigration)
}
View(emigration2)
View(emigration2)
emigrationtotal <- cbind(emigration11, emigration8, emigration5, emigration2)
emigrationtotal <-emigrationtotal[,c(1,2, 4, 6,  8)]
View(emigrationtotal)
View(emigrationtotal)
